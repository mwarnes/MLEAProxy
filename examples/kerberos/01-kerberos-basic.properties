# ================================================================
# Kerberos Basic Configuration
# ================================================================
# Use Case: Development and testing with embedded KDC
# Features: Embedded Kerberos KDC, default principals, SPNEGO auth
# Endpoint: POST http://localhost:8080/kerberos/auth
# ================================================================

# ----------------------------------------------------------------
# Logging Configuration
# ----------------------------------------------------------------
logging.level.root=INFO
logging.level.com.marklogic.handlers.KerberosKDCServer=DEBUG
logging.level.com.marklogic.handlers.undertow.KerberosAuthHandler=DEBUG

# ----------------------------------------------------------------
# Kerberos KDC Configuration
# ----------------------------------------------------------------
# Enable embedded Kerberos KDC
kerberos.enabled=true

# Kerberos realm
kerberos.realm=EXAMPLE.COM

# KDC bind settings
kerberos.kdc.host=localhost
kerberos.kdc.port=88

# Principals (comma-separated)
# Format: principal@REALM
kerberos.principals=admin@EXAMPLE.COM,user@EXAMPLE.COM,HTTP/localhost@EXAMPLE.COM

# Service principal for SPNEGO authentication
kerberos.service.principal=HTTP/localhost@EXAMPLE.COM

# ----------------------------------------------------------------
# User Repository
# ----------------------------------------------------------------
# Path to users.json for additional user information
#users.json.path=classpath:users.json

# ================================================================
# Spring Boot Web Server
# ================================================================
server.port=8080

# ================================================================
# Testing
# ================================================================
# Step 1: Obtain Kerberos ticket
#   kinit admin@EXAMPLE.COM
#   (Password: password)
#
# Step 2: Verify ticket
#   klist
#
# Step 3: Test authentication
#   curl -X POST http://localhost:8080/kerberos/auth \
#     --negotiate -u : \
#     -v
#
# Step 4: Cleanup
#   kdestroy
# ================================================================

# ================================================================
# Default Principals
# ================================================================
# The following principals are created by default:
#
# admin@EXAMPLE.COM      - Administrator user (password: password)
# user@EXAMPLE.COM       - Standard user (password: password)
# HTTP/localhost@EXAMPLE.COM - Service principal for SPNEGO
# ================================================================
