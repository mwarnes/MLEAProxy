# ================================================================
# Kerberos with SAML Bridge
# ================================================================
# Use Case: Kerberos authentication + SAML assertion generation
# Features: SPNEGO auth, automatic SAML generation, assertion bridge
# Endpoint: POST http://localhost:8080/kerberos/saml
# ================================================================

# ----------------------------------------------------------------
# Logging Configuration
# ----------------------------------------------------------------
logging.level.root=INFO
logging.level.com.marklogic.handlers.KerberosKDCServer=DEBUG
logging.level.com.marklogic.handlers.undertow.KerberosAuthHandler=DEBUG
logging.level.com.marklogic.handlers.undertow.SAMLAuthHandler=DEBUG

# ----------------------------------------------------------------
# Kerberos KDC Configuration
# ----------------------------------------------------------------
kerberos.enabled=true
kerberos.realm=EXAMPLE.COM
kerberos.kdc.host=localhost
kerberos.kdc.port=88
kerberos.principals=admin@EXAMPLE.COM,user@EXAMPLE.COM,HTTP/localhost@EXAMPLE.COM
kerberos.service.principal=HTTP/localhost@EXAMPLE.COM

# ----------------------------------------------------------------
# SAML Configuration
# ----------------------------------------------------------------
# Enable SAML debug logging
saml.debug=true

# SAML response validity (5 minutes)
saml.response.validity=300

# Default roles for assertions
saml.default.roles=user

# Optional: Custom SAML certificates
#saml.capath=/path/to/certificate.pem
#saml.keypath=/path/to/rsakey.pem

# ================================================================
# Spring Boot Web Server
# ================================================================
server.port=8080

# ================================================================
# Kerberos to SAML Bridge Flow
# ================================================================
# Step 1: Obtain Kerberos ticket
#   kinit admin@EXAMPLE.COM
#
# Step 2: Get SAML assertion using Kerberos ticket
#   curl -X POST http://localhost:8080/kerberos/saml \
#     --negotiate -u : \
#     -v
#
# Response:
#   <saml2:Assertion>
#     <saml2:Subject>
#       <saml2:NameID>admin@EXAMPLE.COM</saml2:NameID>
#     </saml2:Subject>
#     <saml2:AttributeStatement>
#       <saml2:Attribute Name="role">
#         <saml2:AttributeValue>user</saml2:AttributeValue>
#       </saml2:Attribute>
#     </saml2:AttributeStatement>
#   </saml2:Assertion>
#
# Step 3: Use SAML assertion for application access
# ================================================================

# ================================================================
# Use Cases
# ================================================================
# - Bridge Kerberos authentication to SAML-based applications
# - Enable SSO from Kerberos to SAML service providers
# - Centralized SAML assertion generation for Kerberos users
# - Integrate legacy Kerberos with modern SAML federation
# ================================================================
