# ================================================================
# LDAP Example 2: Simple LDAP Proxy
# ================================================================
# Description: Forward LDAP requests to a backend LDAP server
# Provides detailed logging for debugging authentication issues
#
# Usage:
#   1. Update ldapserver.server1.host and port below
#   2. Copy this file to the root directory as mleaproxy.properties
#   3. Run: java -jar mleaproxy.jar
#   4. Test: ldapsearch -H ldap://localhost:20389 \
#            -D "cn=admin,dc=example,dc=com" \
#            -w password -b "dc=example,dc=com" \
#            "(uid=user1)"
# ================================================================

# Enable LDAP debug logging
ldap.debug=true

# ================================================================
# LDAP Listeners
# ================================================================
listeners=proxy

# ----------------------------------------------------------------
# LDAP Listener: proxy
# ----------------------------------------------------------------
listener.proxy.ipaddress=0.0.0.0
listener.proxy.port=20389
listener.proxy.debuglevel=DEBUG
listener.proxy.ldapset=set1
listener.proxy.ldapmode=single
listener.proxy.requestProcessor=ldapproxy
listener.proxy.description=LDAP Proxy server

# ================================================================
# Request Processors
# ================================================================
requestProcessor.ldapproxy.authclass=com.marklogic.processors.ProxyRequestProcessor
requestProcessor.ldapproxy.debuglevel=DEBUG

# Optional: Map LDAP attributes (useful for MarkLogic 8 compatibility)
# Map memberOf (MarkLogic) to isMemberOf (backend LDAP)
# requestProcessor.ldapproxy.parm1=memberOf:isMemberOf

# ================================================================
# LDAP Server Sets
# ================================================================
ldapset.set1.servers=server1

# ================================================================
# LDAP Servers
# ================================================================
# Backend LDAP/AD server configuration
ldapserver.server1.host=kerberos.marklogic.local
ldapserver.server1.port=10389
