# ================================================================
# LDAP Example 1: Standalone JSON LDAP Server
# ================================================================
# Description: Simple LDAP server using JSON user data
# No backend LDAP server required - perfect for testing
#
# Usage:
#   Option 1: Copy this file to the root directory as mleaproxy.properties
#             Run: java -jar mleaproxy.jar
#   Option 2: Use as override file
#             Run: java -Dmleaproxy.properties=./examples/ldap/01-standalone-json-server.properties -jar mleaproxy.jar
#   Test: ldapsearch -H ldap://localhost:20389 \
#         -D "cn=manager,ou=users,dc=marklogic,dc=local" \
#         -w password -b "ou=users,dc=marklogic,dc=local" \
#         "(sAMAccountName=admin)"
# ================================================================

# Enable LDAP debug logging
ldap.debug=true

# ================================================================
# In-Memory Directory Servers
# ================================================================
# In-memory directory servers for testing and development
# Comma-separated list of directory servers to start
# set to empty to disable in-memory servers
directoryServers=marklogic

# ----------------------------------------------------------------
# Directory Server: marklogic
# ----------------------------------------------------------------
ds.marklogic.name=MarkLogic1
ds.marklogic.ipaddress=0.0.0.0
ds.marklogic.port=61389
ds.marklogic.basedn=dc=MarkLogic,dc=Local
ds.marklogic.admindn=cn=Directory Manager
ds.marklogic.adminpw=password

# ================================================================
# LDAP Listeners (Override mleaproxy.properties)
# ================================================================
# Override any listeners defined in mleaproxy.properties
ldaplisteners=ldapjson

# ----------------------------------------------------------------
# LDAP Listener: ldapjson
# ----------------------------------------------------------------
ldaplistener.ldapjson.ipaddress=0.0.0.0
ldaplistener.ldapjson.port=20389
ldaplistener.ldapjson.debuglevel=DEBUG
ldaplistener.ldapjson.ldapmode=internal
ldaplistener.ldapjson.requestProcessor=jsonauthenticator
ldaplistener.ldapjson.description=Simple LDAP Server using JSON user store

# ================================================================
# Request Processors
# ================================================================
requestProcessor.jsonauthenticator.authclass=com.marklogic.processors.JsonRequestProcessor
requestProcessor.jsonauthenticator.debuglevel=DEBUG
# Optional: Specify custom path to users.json
# requestProcessor.jsonauthenticator.parm1=/path/to/users.json
